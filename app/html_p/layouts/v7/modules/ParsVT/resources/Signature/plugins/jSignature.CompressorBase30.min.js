(function(){for(var n={},t={},r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),e=r.length/2,i=e-1;i>-1;i--)n[r[i]]=r[i+e],t[r[i+e]]=r[i];var s=function(t){for(var r=t.split(""),e=r.length,i=1;i<e;i++)r[i]=n[r[i]];return r.join("")},o=function(n){for(var t,r,i,o=[],u=0,a=1,h=n.length,g=0;g<h;g++)r=(t=Math.round(n[g]))-u,u=t,r<0&&a>0?(a=-1,o.push("Z")):r>0&&a<0&&(a=1,o.push("Y")),(i=Math.abs(r))>=e?o.push(s(i.toString(e))):o.push(i.toString(e));return o.join("")},u=function(r){for(var i,s,o=[],u=r.split(""),a=u.length,h=1,g=[],p=0,l=0;l<a;l++)(i=u[l])in n||"Z"===i||"Y"===i?(0!==g.length&&(s=parseInt(g.join(""),e)*h+p,o.push(s),p=s),"Z"===i?(h=-1,g=[]):"Y"===i?(h=1,g=[]):g=[i]):g.push(t[i]);return o.push(parseInt(g.join(""),e)*h+p),o},a=function(n){for(var t,r=[],e=n.length,i=0;i<e;i++)t=n[i],r.push(o(t.x)),r.push(o(t.y));return r.join("_")},h=function(n){for(var t=[],r=n.split("_"),e=r.length/2,i=0;i<e;i++)t.push({x:u(r[2*i]),y:u(r[2*i+1])});return t},g="image/jsignature;base30",p=function(n){return[g,a(n)]},l=function(n,t,r){"string"==typeof n&&(n.substring(0,g.length).toLowerCase()===g&&(n=n.substring(g.length+1)),r(h(n)))};if(null==this.jQuery)throw new Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");!function(n){var t=n.fn.jSignature;t("addPlugin","export","base30",p),t("addPlugin","export",g,p),t("addPlugin","import","base30",l),t("addPlugin","import",g,l)}(this.jQuery),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:s,compressstrokeleg:o,uncompressstrokeleg:u,compressstrokes:a,uncompressstrokes:h,charmap:n})}).call("undefined"!=typeof window?window:this);